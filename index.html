<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FitLife Personal</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{--p:#00D09C;--s:#1A1A2E;--a:#FF6B6B;--d:#16213E;--c:#0F3460;--t:#EAEAEA}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
body{background:var(--d);color:var(--t);min-height:100vh;padding-bottom:70px}
.screen{display:none;padding:20px}.screen.active{display:block}
header{background:linear-gradient(135deg,var(--s),var(--c));padding:15px;text-align:center;border-bottom:3px solid var(--p);position:sticky;top:0;z-index:100}
header h1{font-size:1.2rem;color:var(--p)}
.card{background:var(--c);border-radius:15px;padding:15px;margin-bottom:15px}
.card h3{color:var(--p);margin-bottom:10px}
input,select{width:100%;padding:10px;margin:5px 0;border-radius:8px;border:2px solid var(--s);background:var(--s);color:var(--t)}
.btn{width:100%;padding:12px;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-top:8px}
.btn-primary{background:var(--p);color:var(--d)}
.btn-sec{background:var(--s);color:var(--t);border:2px solid var(--p)}
.nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--s);justify-content:space-around;padding:12px;z-index:100}
.nav a{color:var(--t);text-align:center;font-size:0.7rem;opacity:0.6;text-decoration:none}
.nav a.active{color:var(--p);opacity:1}
.nav i{display:block;font-size:1.2rem;margin-bottom:2px}
.stats{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.stat{background:var(--s);padding:10px;border-radius:8px;text-align:center}
.stat .n{font-size:1.3rem;font-weight:bold;color:var(--p)}
.stat .l{font-size:0.7rem;opacity:0.8}
.pts{background:linear-gradient(135deg,var(--a),#FF8E53);padding:15px;border-radius:12px;text-align:center;margin-bottom:15px}
.pts .n{font-size:2rem;font-weight:bold}
.notif{position:fixed;top:15px;right:15px;background:var(--p);color:var(--d);padding:12px 20px;border-radius:8px;font-weight:bold;transform:translateX(200%);z-index:200}
.notif.show{transform:translateX(0)}
#welcome{text-align:center;padding-top:40px}
.logo{font-size:3.5rem}
h1{color:var(--p);margin-bottom:8px}
</style>
</head>
<body>

<div class="notif" id="notif">ğŸ‰ Conquista!</div>

<!-- TELA BOAS VINDAS -->
<div id="welcome" class="screen active">
<div class="logo">ğŸ’ª</div>
<h1>FitLife</h1>
<p style="opacity:0.8;margin-bottom:20px">Seu personal trainer<br>personalizado!</p>
<button class="btn btn-primary" onclick="show('reg')">ComeÃ§ar</button>
<button class="btn btn-sec" onclick="load()" style="margin-top:8px">JÃ¡ tenho conta</button>
</div>

<!-- TELA CADASTRO -->
<div id="reg" class="screen">
<header><h1>Criar Perfil</h1></header>
<div class="card">
<h3>ğŸ“ Dados</h3>
<input id="nome" placeholder="Nome">
<input id="idade" type="number" placeholder="Idade">
<input id="peso" type="number" placeholder="Peso (kg)">
<input id="altura" type="number" placeholder="Altura (cm)">
<select id="sexo"><option value="">Sexo</option><option value="m">Masculino</option><option value="f">Feminino</option></select>
</div>
<div class="card">
<h3>ğŸ¯ Objetivo</h3>
<select id="obj"><option value="perder">Emagrecer</option><option value="manter">Manter</option><option value="ganhar">Ganhar Massa</option></select>
<select id="ativ"><option value="1.2">SedentÃ¡rio</option><option value="1.375">Leve</option><option value="1.55">Moderado</option><option value="1.725">Ativo</option></select>
</div>
<div class="card">
<h3>ğŸ½ï¸ PreferÃªncias</h3>
<select id="dieta"><option value="normal">Normal</option><option value="lowcarb">Low Carb</option><option value="vegana">Vegana</option></select>
<select id="treino"><option value="casa">Casa</option><option value="academia">Academia</option></select>
</div>
<button class="btn btn-primary" onclick="criar()">Criar Plano</button>
</div>

<!-- HOME -->
<div id="home" class="screen">
<header><h1>FitLife <span id="userName"></span></h1></header>
<div class="pts">
<div>Seus Pontos</div>
<div class="n" id="pontos">0</div>
<div id="streak">ğŸ”¥ 0 dias</div>
</div>
<div class="stats">
<div class="stat"><div class="n" id="kcal">0</div><div class="l">Kcal/Dia</div></div>
<div class="stat"><div class="n" id="pesoA">0</div><div class="l">kg</div></div>
<div class="stat"><div class="n" id="dias">0</div><div class="l">Dias</div></div>
<div class="stat"><div class="n" id="conq">0</div><div class="l">TrofÃ©us</div></div>
</div>
<div class="card">
<h3>âš–ï¸ Peso</h3>
<input id="novoPeso" placeholder="Peso hoje (kg)">
<button class="btn btn-sec" onclick="salvarPeso()">Registrar</button>
<div id="grafico" style="height:60px;display:flex;align-items:flex-end;gap:3px;margin-top:10px"></div>
</div>
<div class="card">
<h3>ğŸ¯ Desafio</h3>
<p id="desafio" style="margin-bottom:10px">Carregando...</p>
<button class="btn btn-sec" onclick="fazerDesafio()">Concluir (+30pts)</button>
</div>
</div>

<!-- TREINO -->
<div id="treino" class="screen">
<header><h1>ğŸ’ª Treino</h1></header>
<div class="card">
<h3 id="localTreino">Casa</h3>
<div id="exercicios"></div>
</div>
<button class="btn btn-primary" onclick="finalizarTreino()">Finalizar (+50pts)</button>
</div>

<!-- DIETA -->
<div id="dieta" class="screen">
<header><h1>ğŸ¥— Dieta</h1></header>
<div class="card">
<h3>Meta: <span id="kcalDieta">0</span> kcal</h3>
<div class="stats">
<div class="stat"><div class="n" id="prot">0g</div><div class="l">ProteÃ­na</div></div>
<div class="stat"><div class="n" id="carb">0g</div><div class="l">Carbos</div></div>
</div>
</div>
<div id="refeicoes"></div>
</div>

<!-- COMPRAS -->
<div id="compras" class="screen">
<header><h1>ğŸ›’ Compras</h1></header>
<div class="card"><div id="lista"></div></div>
</div>

<!-- NAV -->
<nav class="nav" id="nav">
<a onclick="show('home')"><i class="fas fa-home"></i>Home</a>
<a onclick="show('treino')"><i class="fas fa-dumbbell"></i>Treino</a>
<a onclick="show('dieta')"><i class="fas fa-utensils"></i>Dieta</a>
<a onclick="show('compras')"><i class="fas fa-shopping-cart"></i>Compras</a>
</nav>

<script>
let data={nome:'',pts:0,streak:0,peso:[],conq:[],desafioFeito:false};

const des=['Beba 2L Ã¡gua','NÃ£o coma aÃ§Ãºcar','ExercÃ­cio 30min','Coma vegetais','Durma 8h','5 refeiÃ§Ãµes'];
const excCasa=[['Agachamentos','3x15'],['FlexÃµes','3x10'],['Prancha','3x30s'],['Burpees','3x10']];
const excAcademia=[['Supino','4x10'],['Leg Press','4x12'],['Puxada','4x10'],['Rosca','3x12']];
const diets={normal:[['CafÃ©','PÃ£o + ovo'],['AlmoÃ§o','Arroz + feijÃ£o + frango'],['Jantar','Batata + carne']],lowcarb:[['CafÃ©','Ovos + bacon'],['AlmoÃ§o','Frango + brÃ³colis'],['Jantar','Salada + atum']],vegana:[['CafÃ©','Aveia + frutas'],['AlmoÃ§o','Arroz + lentilha'],['Jantar','Sopa']]};
const buys={normal:['Arroz','FeijÃ£o','Frango','Ovos','Alface','PÃ£o'],lowcarb:['Frango','Carne','Ovos','Abacate','BrÃ³colis','Queijo'],vegana:['Arroz','Lentilha','Banana','MaÃ§Ã£','Aveia']};

function show(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');document.getElementById('nav').style.display=id==='welcome'||id==='reg'?'none':'flex';if(id!=='welcome'&&id!=='reg')atualizar(id)}
function notif(msg){const n=document.getElementById('notif');n.textContent=msg;n.classList.add('show');setTimeout(()=>n.classList.remove('show'),2000)}
function criar(){const nome=document.getElementById('nome').value;const peso=parseFloat(document.getElementById('peso').value);const alt=parseFloat(document.getElementById('altura').value);const idade=parseInt(document.getElementById('idade').value);const sexo=document.getElementById('sexo').value;const obj=document.getElementById('obj').value;const atv=parseFloat(document.getElementById('ativ').value);const dieta=document.getElementById('dieta').value;const tre=document.getElementById('treino').value;if(!nome||!peso){alert('Preencha nome e peso!');return}let tmb=sexo==='m'?(10*peso)+(6.25*alt)-(5*idade)+5:(10*peso)+(6.25*alt)-(5*idade)-161;let cal=obj==='perder'?tmb*atv-500:obj==='ganhar'?tmb*atv+300:tmb*atv;data={nome,peso,cal,dieta,tre,pts:0,streak:0,peso:[peso],conq:[],desafioFeito:false,obj};localStorage.setItem('fitlife',JSON.stringify(data));document.getElementById('userName').innerText=nome;show('home');gerarDesafio();gerarTreino();gerarDieta();gerarCompras()}
function load(){const d=localStorage.getItem('fitlife');if(d){data=JSON.parse(d);document.getElementById('userName').innerText=data.nome;show('home');gerarDesafio();gerarTreino();gerarDieta();gerarCompras()}else{alert('Nenhum dado encontrado!')}}
function salvarPeso(){const p=parseFloat(document.getElementById('novoPeso').value);if(p){data.peso.push(p);data.pts+=10;localStorage.setItem('fitlife',JSON.stringify(data));atualizar('home');notif('+10 pts!');verConq()}}
function gerarDesafio(){document.getElementById('desafio').innerText=des[Math.floor(Math.random()*des.length)]}
function fazerDesafio(){if(!data.desafioFeito){data.pts+=30;data.desafioFeito=true;localStorage.setItem('fitlife',JSON.stringify(data));atualizar('home');notif('+30 pts!');verConq();gerarDesafio()}}
function gerarTreino(){const ex=data.tre==='casa'?excCasa:excAcademia;document.getElementById('localTreino').innerText=data.tre==='casa'?'ğŸ  Casa':'ğŸ‹ï¸ Academia';document.getElementById('exercicios').innerHTML=ex.map(e=>`<div style="background:var(--s);padding:10px;margin:5px 0;border-radius:8px;display:flex;justify-content:space-between"><span>${e[0]}</span><span style="color:var(--a)">${e[1]}</span></div>`).join('')}
function gerarDieta(){document.getElementById('kcalDieta').innerText=data.cal;document.getElementById('prot').innerText=Math.round(data.peso[0]*2)+'g';document.getElementById('carb').innerText=Math.round((data.cal*0.5)/4)+'g';const r=diets[data.dieta];document.getElementById('refeicoes').innerHTML=r.map(x=>`<div class="card"><h3>${x[0]}</h3><p>${x[1]}</p></div>`).join('')}
function gerarCompras(){document.getElementById('lista').innerHTML=buys[data.dieta].map(i=>`<div style="background:var(--s);padding:10px;margin:5px 0;border-radius:8px">â˜ ${i}</div>`).join('')}
function finalizarTreino(){data.pts+=50;localStorage.setItem('fitlife',JSON.stringify(data));atualizar('home');notif('+50 pts! ğŸ’ª');verConq()}
function verConq(){const c=data.conq;if(data.pts>=100&&!c.includes('iniciante')){c.push('iniciante');notif('ğŸŒŸ Conquista: Iniciante!')}if(data.peso.length>=3&&!c.includes('persistente')){c.push('persistente');notif('ğŸ”¥ Conquista: Persistente!')}localStorage.setItem('fitlife',JSON.stringify(data))}
function atualizar(){document.getElementById('pontos').innerText=data.pts;document.getElementById('kcal').innerText=data.cal;document.getElementById('pesoA').innerText=data.peso[data.peso.length-1];document.getElementById('dias').innerText=data.peso.length;document.getElementById('conq').innerText=data.conq.length;document.getElementById('streak').innerText='ğŸ”¥ '+data.streak+' dias';if(data.peso.length>1){const max=Math.max(...data.peso),min=Math.min(...data.peso),h=Math.max(...data.peso.map(p=>100-((p-min)/(max-min))*80));document.getElementById('grafico').innerHTML=data.peso.map(p=>`<div style="flex:1;background:linear-gradient(to top,var(--p),var(--a));border-radius:3px;height:${h}px;min-height:5px" title="${p}kg"></div>`).join('')}}
</script>
</body>
</html>
