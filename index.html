<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitLife Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root{--p:#00D09C;--s:#1A1A2E;--a:#FF6B6B;--d:#16213E;--c:#0F3460;--t:#EAEAEA}
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
        body{background:var(--d);color:var(--t);min-height:100vh;padding-bottom:80px}
        .screen{display:none;padding:20px}.screen.active{display:block}
        header{background:linear-gradient(135deg,var(--s),var(--c));padding:15px;text-align:center;border-bottom:3px solid var(--p);position:sticky;top:0;z-index:100}
        header h1{font-size:1.2rem;color:var(--p)}
        .card{background:var(--c);border-radius:15px;padding:15px;margin-bottom:15px;box-shadow: 0 4px 6px rgba(0,0,0,0.1)}
        .card h3{color:var(--p);margin-bottom:10px;display:flex;align-items:center;gap:10px}
        .gramas{font-weight: bold; color: var(--a)}
        .detalhe-ex{font-size: 0.8rem; color: #aaa; display: block; margin-top: 4px}
        .btn{width:100%;padding:12px;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-top:8px;transition: 0.3s}
        .btn-primary{background:var(--p);color:var(--d)}
        .btn-sec{background:var(--s);color:var(--t);border:2px solid var(--p)}
        .nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--s);justify-content:space-around;padding:12px;z-index:100;border-top: 1px solid var(--c)}
        .nav a{color:var(--t);text-align:center;font-size:0.7rem;opacity:0.6;text-decoration:none;cursor:pointer}
        .nav a.active{color:var(--p);opacity:1}
        .nav i{display:block;font-size:1.2rem;margin-bottom:2px}
        .stats{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
        .stat{background:var(--s);padding:10px;border-radius:8px;text-align:center}
        .stat .n{font-size:1.3rem;font-weight:bold;color:var(--p)}
        .pts{background:linear-gradient(135deg,var(--a),#FF8E53);padding:15px;border-radius:12px;text-align:center;margin-bottom:15px}
        .notif{position:fixed;top:15px;right:15px;background:var(--p);color:var(--d);padding:12px 20px;border-radius:8px;font-weight:bold;transform:translateX(200%);z-index:200;transition: 0.5s}
        .notif.show{transform:translateX(0)}
    </style>
</head>
<body>

<div class="notif" id="notif">ðŸŽ‰ Conquista!</div>

<div id="welcome" class="screen active">
    <div style="text-align:center; padding-top:100px">
        <h1 style="font-size:3rem">ðŸ’ª FitLife</h1>
        <p>Seu Plano Inteligente</p>
        <button class="btn btn-primary" onclick="show('reg')" style="margin-top:20px">ComeÃ§ar</button>
        <button class="btn btn-sec" onclick="load()">Carregar Perfil</button>
    </div>
</div>

<div id="reg" class="screen">
    <header><h1>Configurar Perfil</h1></header>
    <div class="card">
        <input id="nome" placeholder="Seu nome">
        <input id="peso" type="number" placeholder="Peso (kg)">
        <input id="altura" type="number" placeholder="Altura (cm)">
        <input id="idade" type="number" placeholder="Idade">
        <select id="sexo"><option value="m">Masculino</option><option value="f">Feminino</option></select>
        <select id="obj"><option value="perder">Perder Peso</option><option value="manter">Manter</option><option value="ganhar">Ganhar Massa</option></select>
        <select id="treino_pref"><option value="casa">Treinar em Casa</option><option value="academia">Academia</option></select>
        <button class="btn btn-primary" onclick="criar()">Gerar Plano Inteligente</button>
    </div>
</div>

<div id="home" class="screen">
    <header><h1>Painel de Controle</h1></header>
    <div class="pts">
        <div id="streak">ðŸ”¥ Streak: 1 dia</div>
        <div style="font-size:2rem; font-weight:bold" id="pontos">0</div>
        <div>Pontos de ExperiÃªncia</div>
    </div>
    <div class="card">
        <h3><i class="fas fa-bullseye"></i> MissÃ£o do Dia</h3>
        <p id="missao_txt">Carregando...</p>
        <button class="btn btn-primary" id="btn_missao" onclick="completarMissao()">Concluir (+30 pts)</button>
    </div>
    <div class="stats">
        <div class="stat"><div class="n" id="stat_peso">0</div><div class="l">Peso Atual</div></div>
        <div class="stat"><div class="n" id="stat_kcal">0</div><div class="l">Meta Kcal</div></div>
    </div>
</div>

<div id="treino_screen" class="screen">
    <header><h1 id="treino_titulo">Treino do Dia</h1></header>
    <div id="lista_exercicios"></div>
    <button class="btn btn-primary" id="btn_treino" onclick="finalizarTreino()">Finalizar Treino (+50 pts)</button>
</div>

<div id="dieta_screen" class="screen">
    <header><h1>Sua Dieta</h1></header>
    <div id="lista_dieta"></div>
</div>

<nav class="nav" id="nav">
    <a onclick="show('home')"><i class="fas fa-home"></i>Home</a>
    <a onclick="show('treino_screen')"><i class="fas fa-dumbbell"></i>Treino</a>
    <a onclick="show('dieta_screen')"><i class="fas fa-utensils"></i>Dieta</a>
</nav>

<script>
// BANCO DE DADOS DE EXERCÃCIOS
const dbTreinos = {
    casa: {
        A: [
            {n: "FlexÃ£o de BraÃ§os", d: "3 sÃ©ries de 12 repetiÃ§Ãµes. Descanso: 45s", obs: "Mantenha o abdÃ´men contraÃ­do."},
            {n: "TrÃ­ceps no SofÃ¡", d: "3 sÃ©ries de 15 repetiÃ§Ãµes. Descanso: 30s", obs: "DesÃ§a atÃ© formar 90 graus com o cotovelo."},
            {n: "Polichinelos", d: "4 sÃ©ries de 45 segundos. Descanso: 20s", obs: "Ritmo constante."}
        ],
        B: [
            {n: "Agachamento Livre", d: "4 sÃ©ries de 15 repetiÃ§Ãµes. Descanso: 60s", obs: "NÃ£o tire os calcanhares do chÃ£o."},
            {n: "Afundo Alternado", d: "3 sÃ©ries de 12 repetiÃ§Ãµes cada perna", obs: "Mantenha o tronco reto."},
            {n: "ElevaÃ§Ã£o PÃ©lvica", d: "3 sÃ©ries de 20 repetiÃ§Ãµes", obs: "Esmague o glÃºteo no topo."}
        ],
        C: [
            {n: "Burpees", d: "3 sÃ©ries de 10 repetiÃ§Ãµes. Descanso: 60s", obs: "ExplosÃ£o mÃ¡xima."},
            {n: "Prancha Abdominal", d: "3 sÃ©ries de 40 segundos", obs: "Corpo alinhado como uma tÃ¡bua."},
            {n: "Escalador (Mountain Climber)", d: "4 sÃ©ries de 30 segundos", obs: "Puxe o joelho em direÃ§Ã£o ao peito."}
        ]
    },
    academia: {
        A: [
            {n: "Supino Reto", d: "4 sÃ©ries de 10 repetiÃ§Ãµes. Descanso: 60s", obs: "Controle a descida."},
            {n: "Desenvolvimento Halteres", d: "3 sÃ©ries de 12 repetiÃ§Ãµes", obs: "Foco nos ombros."},
            {n: "Puxada na Frente", d: "4 sÃ©ries de 10 repetiÃ§Ãµes", obs: "Sinta as costas trabalharem."}
        ],
        B: [
            {n: "Leg Press 45", d: "4 sÃ©ries de 12 repetiÃ§Ãµes. Descanso: 90s", obs: "NÃ£o estenda totalmente o joelho."},
            {n: "Extensora", d: "3 sÃ©ries de 15 repetiÃ§Ãµes", obs: "Pausa de 2s no topo."},
            {n: "Stiff", d: "3 sÃ©ries de 12 repetiÃ§Ãµes", obs: "Coluna sempre reta."}
        ],
        C: [
            {n: "Esteira (Intervalado)", d: "20 minutos", obs: "1 min corrida / 1 min caminhada."},
            {n: "Abdominal na Polia", d: "4 sÃ©ries de 15 repetiÃ§Ãµes", obs: "Carga moderada."},
            {n: "Remada Curvada", d: "3 sÃ©ries de 12 repetiÃ§Ãµes", obs: "Puxe a barra no umbigo."}
        ]
    }
};

const missoes = [
    "Beber 3 litros de Ã¡gua hoje",
    "NÃ£o comer aÃ§Ãºcar refinado hoje",
    "Fazer 15 minutos de alongamento",
    "Caminhar 5.000 passos",
    "Comer uma porÃ§Ã£o de vegetais no almoÃ§o e jantar",
    "Subir escadas em vez de usar elevador"
];

let user = {
    nome: "", pts: 0, streak: 1, lastDate: "", 
    peso: 0, cal: 0, obj: "", pref: "casa",
    missaoDia: "", missaoFeita: false,
    treinoTipo: "A", treinoFeito: false
};

function show(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.getElementById('nav').style.display = (id==='home' || id==='treino_screen' || id==='dieta_screen') ? 'flex' : 'none';
    if(id === 'home') atualizarHome();
}

function criar() {
    user.nome = document.getElementById('nome').value;
    user.peso = parseFloat(document.getElementById('peso').value);
    user.pref = document.getElementById('treino_pref').value;
    user.obj = document.getElementById('obj').value;
    user.cal = user.obj === 'perder' ? 1800 : 2500;
    user.lastDate = new Date().toLocaleDateString();
    user.missaoDia = missoes[0];
    
    save();
    show('home');
}

function save() { localStorage.setItem('fit_pro_data', JSON.stringify(user)); }

function load() {
    const data = localStorage.getItem('fit_pro_data');
    if(data) {
        user = JSON.parse(data);
        verificarMudancaDeDia();
        show('home');
    }
}

function verificarMudancaDeDia() {
    const hoje = new Date().toLocaleDateString();
    if(user.lastDate !== hoje) {
        // LÃ³gica de Streak
        const ontem = new Date(); ontem.setDate(ontem.getDate() - 1);
        if(user.lastDate === ontem.toLocaleDateString()) {
            user.streak++;
        } else {
            user.streak = 1;
        }

        // Alternar MissÃ£o
        user.missaoDia = missoes[Math.floor(Math.random() * missoes.length)];
        user.missaoFeita = false;

        // Alternar Treino (A -> B -> C -> A)
        const ciclos = ["A", "B", "C"];
        let idx = ciclos.indexOf(user.treinoTipo);
        user.treinoTipo = ciclos[(idx + 1) % 3];
        user.treinoFeito = false;

        user.lastDate = hoje;
        save();
    }
}

function atualizarHome() {
    document.getElementById('pontos').innerText = user.pts;
    document.getElementById('streak').innerText = `ðŸ”¥ Streak: ${user.streak} dias`;
    document.getElementById('stat_peso').innerText = user.peso + "kg";
    document.getElementById('stat_kcal').innerText = user.cal;
    document.getElementById('missao_txt').innerText = user.missaoDia;
    
    const btnM = document.getElementById('btn_missao');
    if(user.missaoFeita) {
        btnM.innerText = "ConcluÃ­da!";
        btnM.disabled = true;
        btnM.style.opacity = "0.5";
    }

    gerarTreino();
    gerarDieta();
}

function gerarTreino() {
    const lista = document.getElementById('lista_exercicios');
    const treinoAtual = dbTreinos[user.pref][user.treinoTipo];
    document.getElementById('treino_titulo').innerText = `Treino ${user.treinoTipo} (${user.pref})`;
    
    lista.innerHTML = treinoAtual.map(ex => `
        <div class="card">
            <h3>${ex.n}</h3>
            <p><b>${ex.d}</b></p>
            <span class="detalhe-ex">${ex.obs}</span>
        </div>
    `).join('');

    if(user.treinoFeito) {
        document.getElementById('btn_treino').innerText = "Treino ConcluÃ­do!";
        document.getElementById('btn_treino').disabled = true;
    }
}

function finalizarTreino() {
    if(!user.treinoFeito) {
        user.pts += 50;
        user.treinoFeito = true;
        save();
        notif("+50 pontos! Bom trabalho!");
        show('home');
    }
}

function completarMissao() {
    user.pts += 30;
    user.missaoFeita = true;
    save();
    notif("+30 pontos! MissÃ£o cumprida.");
    atualizarHome();
}

function gerarDieta() {
    const d = document.getElementById('lista_dieta');
    const prot = user.peso * 2;
    d.innerHTML = `
        <div class="card">
            <h3>Resumo de Macros</h3>
            <p>ProteÃ­na: <span class="gramas">${prot}g</span></p>
            <p>Meta DiÃ¡ria: <span class="gramas">${user.cal} kcal</span></p>
        </div>
        <div class="card">
            <h3>CafÃ© da ManhÃ£</h3>
            <p>Ovos mexidos (3 un) + 1 fruta</p>
        </div>
        <div class="card">
            <h3>AlmoÃ§o</h3>
            <p>Carne grelhada (${user.peso * 1.5}g) + Arroz (${user.peso * 2}g)</p>
        </div>
    `;
}

function notif(m) {
    const n = document.getElementById('notif');
    n.innerText = m; n.classList.add('show');
    setTimeout(() => n.classList.remove('show'), 3000);
}

// Iniciar
load();
</script>
</body>
</html>
